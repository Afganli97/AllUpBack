@model List<Category>

<div class="col-lg-3">
    <div class="header-menu-vertical">
        <h4 class="menu-title">
            <span>Shop by</span>
            Department
        </h4>
        <ul class="menu-content menu-expand">
            @foreach (var item in Model)
            {
                if (item.ParentId == null)
                {
                    <li class="menu-item">
                        <a asp-controller="product" asp-action="index" asp-route-categoryId="@item.Id">@item.CategoryName <i class="fal fa-chevron-right"></i></a>
                        <ul class="sub-menu flex-wrap">
                        @foreach (var sub in item.SubCategories)
                        {
                            <li>
                                <a asp-controller="product" asp-action="index" asp-route-categoryId="@sub.Id"><span>@sub.CategoryName</span></a>
                                <ul class="submenu-item ">
                                    @foreach (var subSub in sub.SubCategories)
                                    {
                                        <li><a asp-controller="product" asp-action="index" asp-route-categoryId="@subSub.Id">@subSub.CategoryName</a></li>
                                    }
                                </ul>
                            </li>
                        }
                        </ul>
                    </li>
                }
            }
        </ul> <!-- menu content -->
    </div> <!-- header menu vertical -->
</div>